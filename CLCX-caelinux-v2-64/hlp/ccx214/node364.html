<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Program structure.</TITLE>
<META NAME="description" CONTENT="Program structure.">
<META NAME="keywords" CONTENT="ccx">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ccx.css">

<LINK REL="next" HREF="node413.html">
<LINK REL="previous" HREF="node331.html">
<LINK REL="up" HREF="ccx.html">
<LINK REL="next" HREF="node365.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html5673"
  HREF="node365.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html5669"
  HREF="ccx.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html5663"
  HREF="node363.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html5671"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html5674"
  HREF="node365.html">Allocation of the fields</A>
<B> Up:</B> <A NAME="tex2html5670"
  HREF="ccx.html">CalculiX CrunchiX USER'S MANUAL</A>
<B> Previous:</B> <A NAME="tex2html5664"
  HREF="node363.html">Network element</A>
 &nbsp; <B>  <A NAME="tex2html5672"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000100000000000000000">
Program structure.</A>
</H1>

<P>
First an important remark: starting with version 2.8 the environment variable
CCX_LOG_ALLOC has been introduced. If set to 1 (default is zero) one gets
detailed information on all allocated, reallocated and deallocated fields
during the executation of CalculiX. This may be particularly important during
debugging of segmentation faults.

<P>
CalculiX CrunchiX is a mixture of FORTRAN77 (with elements from FORTRAN90) and
C. C is primarily used for automatic allocation and reallocation
purposes. FORTRAN is the first language I learned and I must admit that I'm
still a FORTRAN addict. I use C where necessary, I avoid it where
possible. Another option would have been to code everything in FORTRAN90,
however, to this date there is no good FREE FORTRAN90 compiler. Roughly
speaking, the main routine and some of the routines called by main are in C,
the others are in FORTRAN. This means that no C routine is called by a FORTRAN
routine, a FORTRAN routine
may be called by a C routine or a FORTRAN routine. There are NO commons in the
code. All data transfer is through arguments of subroutine calls. All
arguments are transferred by address, not value (there may be one or two
exceptions on this rule in the code).

<P>
The main subroutine of CalculiX is ccx_2.14.c. It consists roughly of the
following parts:

<P>

<UL>
<LI>Allocation of the fields
</LI>
</UL>
For each step:

<OL>
<LI>Reading the step input data (including the prestep data for the first
  step)
</LI>
<LI>Determining the matrix structure
</LI>
<LI>Filling and solving the set of equations, storing the results.
</LI>
</OL>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html5675"
  HREF="node365.html">Allocation of the fields</A>
<UL>
<LI><A NAME="tex2html5676"
  HREF="node366.html">openfile</A>
<LI><A NAME="tex2html5677"
  HREF="node367.html">readinput</A>
<LI><A NAME="tex2html5678"
  HREF="node368.html">allocate</A>
</UL>
<BR>
<LI><A NAME="tex2html5679"
  HREF="node369.html">Reading the step input data</A>
<UL>
<LI><A NAME="tex2html5680"
  HREF="node370.html">SPC's</A>
<LI><A NAME="tex2html5681"
  HREF="node371.html">Homogeneous linear equations</A>
<LI><A NAME="tex2html5682"
  HREF="node372.html">Concentrated loads</A>
<LI><A NAME="tex2html5683"
  HREF="node373.html">Facial distributed loads</A>
<LI><A NAME="tex2html5684"
  HREF="node374.html">Mechanical body loads</A>
<LI><A NAME="tex2html5685"
  HREF="node375.html">Sets</A>
<LI><A NAME="tex2html5686"
  HREF="node376.html">Material description</A>
</UL>
<BR>
<LI><A NAME="tex2html5687"
  HREF="node377.html">Expansion of the one-dimensional and two-dimensional elements</A>
<UL>
<LI><A NAME="tex2html5688"
  HREF="node378.html">Cataloguing the elements belonging to a given node</A>
<LI><A NAME="tex2html5689"
  HREF="node379.html">Calculating the normals in the nodes</A>
<LI><A NAME="tex2html5690"
  HREF="node380.html">Expanding the 1D and 2D elements</A>
<LI><A NAME="tex2html5691"
  HREF="node381.html">Connecting 1D and 2D elements to 3D elements</A>
<LI><A NAME="tex2html5692"
  HREF="node382.html">Applying the SPC's to the expanded structure</A>
<LI><A NAME="tex2html5693"
  HREF="node383.html">Applying the MPC's to the expanded structure</A>
<LI><A NAME="tex2html5694"
  HREF="node384.html">Applying temperatures and temperature gradients</A>
<LI><A NAME="tex2html5695"
  HREF="node385.html">Applying concentrated forces to the expanded structure</A>
</UL>
<BR>
<LI><A NAME="tex2html5696"
  HREF="node386.html">Contact</A>
<LI><A NAME="tex2html5697"
  HREF="node387.html">Determining the matrix structure</A>
<UL>
<LI><A NAME="tex2html5698"
  HREF="node388.html">Matching the SPC's</A>
<LI><A NAME="tex2html5699"
  HREF="node389.html">De-cascading the MPC's</A>
<LI><A NAME="tex2html5700"
  HREF="node390.html">Determining the matrix structure.</A>
</UL>
<BR>
<LI><A NAME="tex2html5701"
  HREF="node391.html">Filling and solving the set of equations, storing the results</A>
<UL>
<LI><A NAME="tex2html5702"
  HREF="node392.html">Linear static analysis</A>
<LI><A NAME="tex2html5703"
  HREF="node393.html">Nonlinear calculations</A>
<LI><A NAME="tex2html5704"
  HREF="node394.html">Frequency calculations</A>
<LI><A NAME="tex2html5705"
  HREF="node395.html">Buckling calculations</A>
<LI><A NAME="tex2html5706"
  HREF="node396.html">Modal dynamic calculations</A>
<LI><A NAME="tex2html5707"
  HREF="node397.html">Steady state dynamics calculations</A>
</UL>
<BR>
<LI><A NAME="tex2html5708"
  HREF="node398.html">Major routines</A>
<UL>
<LI><A NAME="tex2html5709"
  HREF="node399.html">mafillsm</A>
<LI><A NAME="tex2html5710"
  HREF="node400.html">results</A>
</UL>
<BR>
<LI><A NAME="tex2html5711"
  HREF="node401.html">Aerodynamic and hydraulic networks</A>
<UL>
<LI><A NAME="tex2html5712"
  HREF="node402.html">The variables and the equations</A>
<LI><A NAME="tex2html5713"
  HREF="node403.html">Determining the basic characteristics of the network</A>
<LI><A NAME="tex2html5714"
  HREF="node404.html">Initializing the unknowns</A>
<LI><A NAME="tex2html5715"
  HREF="node405.html">Calculating the residual and setting up the equation system</A>
<LI><A NAME="tex2html5716"
  HREF="node406.html">Convergence criteria</A>
</UL>
<BR>
<LI><A NAME="tex2html5717"
  HREF="node407.html">Three-Dimensional Navier-Stokes Calculations</A>
<LI><A NAME="tex2html5718"
  HREF="node408.html">Sensitivity Analysis</A>
<UL>
<LI><A NAME="tex2html5719"
  HREF="node409.html">Preprocessing the sensitivity</A>
<LI><A NAME="tex2html5720"
  HREF="node410.html">Processing the sensitivity</A>
<LI><A NAME="tex2html5721"
  HREF="node411.html">Postprocessing the sensitivity</A>
</UL>
<BR>
<LI><A NAME="tex2html5722"
  HREF="node412.html">List of variables and their meaning</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<!--Navigation Panel-->
<A NAME="tex2html5673"
  HREF="node365.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/usr/share/latex2html/icons/next.png"></A> 
<A NAME="tex2html5669"
  HREF="ccx.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/usr/share/latex2html/icons/up.png"></A> 
<A NAME="tex2html5663"
  HREF="node363.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/usr/share/latex2html/icons/prev.png"></A> 
<A NAME="tex2html5671"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/usr/share/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html5674"
  HREF="node365.html">Allocation of the fields</A>
<B> Up:</B> <A NAME="tex2html5670"
  HREF="ccx.html">CalculiX CrunchiX USER'S MANUAL</A>
<B> Previous:</B> <A NAME="tex2html5664"
  HREF="node363.html">Network element</A>
 &nbsp; <B>  <A NAME="tex2html5672"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
guido dhondt
2018-04-28
</ADDRESS>
</BODY>
</HTML>
